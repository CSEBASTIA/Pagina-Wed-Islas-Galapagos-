// üîç HERRAMIENTA DE DIAGN√ìSTICO
// Copia este c√≥digo y p√©galo en la CONSOLA del navegador (F12)
// Te dir√° qu√© est√° funcionando y qu√© no

console.clear();
console.log('%cüîç DIAGN√ìSTICO DE ISABELA TOURS', 'color: cyan; font-size: 20px; font-weight: bold');
console.log('='.repeat(50));

const diagnostics = {
    services: {
        'üì¶ ToursService': typeof ToursService !== 'undefined',
        'üì¶ BookingsService': typeof BookingsService !== 'undefined',
        'üì¶ AuthService': typeof AuthService !== 'undefined',
        'üì¶ SupabaseService': typeof SupabaseService !== 'undefined'
    },
    components: {
        'üé® Navigation': typeof Navigation !== 'undefined',
        'üé® ToursUI': typeof ToursUI !== 'undefined',
        'üé® BookingModal': typeof BookingModal !== 'undefined',
        'üé® HistoryModal': typeof HistoryModal !== 'undefined',
        'üé® AuthModal': typeof AuthModal !== 'undefined',
        'üé® AuthUI': typeof AuthUI !== 'undefined'
    },
    domElements: {
        'üìã tours-grid': !!document.getElementById('tours-grid'),
        'üìã booking-modal': !!document.getElementById('booking-modal'),
        'üìã history-modal': !!document.getElementById('history-modal'),
        'üìã auth-modal': !!document.getElementById('auth-modal'),
        'üìã home-view': !!document.getElementById('home-view')
    },
    data: {
        'üíæ Tours disponibles': typeof ToursService !== 'undefined' ? ToursService.getAllTours().length : 0,
        'üíæ Reservas guardadas': typeof BookingsService !== 'undefined' ? BookingsService.getAllBookings().length : 0,
        'üíæ Usuario logueado': typeof AuthService !== 'undefined' ? (AuthService.isLoggedIn() ? '‚úÖ' : '‚ùå') : '?'
    }
};

// Mostrar resultados
console.log('\n%cüì¶ SERVICIOS', 'color: yellow; font-weight: bold');
Object.entries(diagnostics.services).forEach(([name, status]) => {
    console.log(`${status ? '‚úÖ' : '‚ùå'} ${name}`);
});

console.log('\n%cüé® COMPONENTES UI', 'color: yellow; font-weight: bold');
Object.entries(diagnostics.components).forEach(([name, status]) => {
    console.log(`${status ? '‚úÖ' : '‚ùå'} ${name}`);
});

console.log('\n%cüìã ELEMENTOS DEL DOM', 'color: yellow; font-weight: bold');
Object.entries(diagnostics.domElements).forEach(([name, status]) => {
    console.log(`${status ? '‚úÖ' : '‚ùå'} ${name}`);
});

console.log('\n%cüíæ DATOS', 'color: yellow; font-weight: bold');
Object.entries(diagnostics.data).forEach(([name, value]) => {
    console.log(`${name}: ${value}`);
});

// Resumen
const totalChecks = Object.values(diagnostics.services).length +
    Object.values(diagnostics.components).length +
    Object.values(diagnostics.domElements).length;
const passedChecks = Object.values(diagnostics.services).filter(v => v).length +
    Object.values(diagnostics.components).filter(v => v).length +
    Object.values(diagnostics.domElements).filter(v => v).length;

console.log('\n' + '='.repeat(50));
if (passedChecks === totalChecks) {
    console.log('%cüéâ ¬°TODO EST√Å FUNCIONANDO PERFECTAMENTE!', 'color: green; font-size: 16px; font-weight: bold');
} else {
    console.log(`%c‚ö†Ô∏è ${totalChecks - passedChecks} componentes tienen problemas`, 'color: orange; font-size: 16px; font-weight: bold');
    console.log('Revisa los ‚ùå arriba para ver qu√© falta');
}
console.log('='.repeat(50));